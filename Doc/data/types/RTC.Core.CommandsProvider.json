{".NET Framework 3.5":{"name":"CommandsProvider","namespace":"RTC.Core","syntax":"internal class CommandsProvider","linkedSyntax":"internal class [CommandsProvider](#/type/RTC.Core.CommandsProvider/index)","classDiagram":"<svg width=\"201.00\" height=\"125.50\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g transform=\"translate(0.00, 50.00)\"><rect height=\"76\" width=\"201\" x=\"0.55\" y=\"0.55\" fill=\"#FFFFFF\" stroke=\"#979797\" stroke-width=\"1\" /><text x=\"62.15\" y=\"20.50\" fill=\"\" style=\"\" text-anchor=\"\" font-family=\"'Segoe UI',sans-serif\" font-size=\"11.00\" onmouseover=\"\" onmouseout=\"\"><![CDATA[internal  class]]></text><a xlink:href=\"#/type/RTC.Core.CommandsProvider/index\" target=\"_top\"><text x=\"32.12\" y=\"35.50\" fill=\"#1382CE\" style=\"\" text-anchor=\"\" font-family=\"'Segoe UI',sans-serif\" font-size=\"14.00\" onmouseover=\"this.setAttribute('fill', '#F58026')\" onmouseout=\"this.setAttribute('fill', '#1382CE')\"><![CDATA[CommandsProvider]]></text></a><path d=\"M0.5,45.50L201.00,45.50\" stroke=\"#979797\" stroke-width=\"1\" stroke-dasharray=\"\" /><image width=\"16.00\" height=\"16.00\" x=\"15.00\" y=\"53.50\" xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAANtQTFRF/wD//vv+8tvyz4jP8OPw46zj8+Pz8NTw7r7u+q7765Hs8uDz9/Cr1dWsrLSuipmu/f394q/i+qv7+pj76ZDq9Ob0plCnu2+87qXv+pv7+pn75pjnkE6R6eWrwcSsrLWtmKSup0+o0W3S+p/77p3vllKXfC58qVKq0WrS1W/VvHC93ZjejkaPnDydfi5+5eKrzM6stbutnKeu5MrkqFCp0mvT027UfjB/nzyfjTWOfC196NHoqVCqy2fMlTiWeit78NXw7djtfzCAdSd169Hr7NLscSRy5szm////y4eOhgAAAAF0Uk5TAEDm2GYAAAABYktHREjwAtTqAAAACXBIWXMAAAsSAAALEgHS3X78AAAAeUlEQVQY02NgwAMY0fhMzCxofFZmNiQ+OzMHJxczN5jNw8vHL8AsKCQsLMIsClchJi4hKSwlLQOUl+WVk1dgUFQSl1BWUVWDq1DX0NTS1tHVAxmhb2BoxGBsYmpmbmFphbDG2sZWz87eAcliRxMnZxcUp7m6uTOQAwDo6wrtzia2FQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMi0wNy0yOVQxMTo1MzowNiswMjowMARwUR4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTAtMDQtMDNUMDU6MTE6MjArMDI6MDAQy5Z4AAAAAElFTkSuQmCC\" /><a xlink:href=\"#/type/RTC.Core.CommandsProvider/RTCCoreCommandsProviderGetCommandsGlobalNamespaceType\" target=\"_top\"><text x=\"40.00\" y=\"65.50\" fill=\"#1382CE\" style=\"\" text-anchor=\"\" font-family=\"'Segoe UI',sans-serif\" font-size=\"14.00\" onmouseover=\"this.setAttribute('fill', '#F58026')\" onmouseout=\"this.setAttribute('fill', '#1382CE')\"><![CDATA[GetCommands]]></text></a></g></svg>","classDiagramHeight":"200","fit":"False","regions":[{"start":"10","end":"58","filepath":"E:\\VSProjects\\RuntimeConsole\\RTC.Core\\CommandsProvider.cs","filename":"CommandsProvider.cs","content":"using RTC.Core.Extension; \nusing RTC.Base; \nusing System.Collections.Generic; \nusing System.Linq; \nusing System.Reflection; \nusing System; \n \nnamespace RTC.Core \n{ \n    internal sealed class CommandsProvider \n    { \n        public Dictionary<string, CommandInfo> GetCommands(System.Type[] types) \n        { \n            var commands = new Dictionary<string, CommandInfo>(); \n            types = types.Distinct().ToArray(); \n \n            for(int i = 0; i < types.Length; i++) \n            { \n                var cachedType = types[i]; \n                var allMethods = cachedType.GetMethods(BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.Static); \n                var desiredMethods = allMethods.Where(m => m.GetCustomAttributes(typeof(CommandAttribute), false).Length > 0).ToArray(); \n \n                foreach (var method in desiredMethods) \n                { \n                    CommandAttribute cmdAttr = method.GetCustomAttributes(typeof(CommandAttribute), false)[0] as CommandAttribute; \n \n                    var alias = string.Empty; \n \n                    if (cmdAttr.Alias.IsNullOrWhiteSpace()) \n                    { \n                        alias = string.Format(\"{0}.{1}\", cachedType.Name, method.Name); \n                        string error = string.Format(\"Unnamed command!{0}Generated alias: {1}\", Environment.NewLine, alias); \n                        RTConsole.Instance.LogInternal(LogTypes.Warning, \"Commands provider\", error); \n                    } \n                    else \n                    { \n                        alias = cmdAttr.Alias; \n                    } \n \n                    alias = alias.Trim(); \n                    if (commands.ContainsKey(alias)) \n                    { \n                        cmdAttr.Alias = cmdAttr.Alias == alias ? string.Format(\"{0}.{1}\", cachedType.Name, method.Name) : string.Format(\"{0}.{1}\", cachedType.FullName, method.Name); \n                        string error = string.Format(\"{0} is already defined and has been replaced with {1}\", alias, cmdAttr.Alias); \n                        RTConsole.Instance.LogInternal(LogTypes.Warning, \"Commands provider\", error); \n                    } \n                    else \n                    { \n                        cmdAttr.Alias = alias; \n                    } \n                     \n                    commands.Add(cmdAttr.Alias.Trim(), new CommandInfo(cmdAttr, method));     \n                } \n            } \n \n            return commands; \n        } \n    } \n}"}],"methods":[{"id":"RTC.Core.CommandsProvider.GetCommands(GlobalNamespace.Type[])","urlId":"RTCCoreCommandsProviderGetCommandsGlobalNamespaceType","type":"method","accessibility":"public","name":"GetCommands(Type[] types)","region":{"start":"12","end":"57","filename":"CommandsProvider.cs"},"syntax":"public Dictionary<string, CommandInfo> GetCommands(Type[] types)","linkedSyntax":"public Dictionary<string, [CommandInfo](#/type/RTC.Base.CommandInfo/index)> GetCommands(Type[] types)"}]}}